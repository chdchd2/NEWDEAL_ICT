<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.mapper.EduMapper">

<insert id="intWrite" parameterType="intvo">
	INSERT INTO EDU_INTRODUCE VALUES(
									SEQ_EDU_INTRODUCE_INT_NUM.nextval,
									#{memNum},
									#{intTitle},
									#{intContent},
									#{intWriter},
									sysdate,
									0
									)
</insert>

<select id="intmaxNum" resultType="int">
	SELECT NVL(MAX(INT_NUM),1) AS MAXNUM 
	FROM EDU_INTRODUCE
</select>

<insert id="intfileWrite" parameterType="filevo">
INSERT INTO COMMON_FILE VALUES(
								SEQ_COMMON_FILE_FILE_NUM.nextval,
								#{fileName},
								#{fileOrgName},
								#{fileSize},
								#{filePath},
								'EDU_INTRODUCE',
								#{fileRefNum}
								)
</insert>

<select id="intCnt" resultType="int">
 			SELECT NVL(COUNT(*),0) CNT from EDU_INTRODUCE <!--  글이 하나도 없는경우는 result값이 null이나오기때문에 NVL로 널인경우에는 0으로 넣어주어라(resulttype이 int여서)-->
 			
</select>

<select id="intList" parameterType="pagevo" resultType="intvo">
      SELECT INT_NUM AS INTNUM,
      		 MEM_NUM AS MEMNUM,
      		 INT_TITLE AS INTTITLE,
      		 INT_CONTENT AS INTCONTENT,
      		 INT_WRITER AS INTWRITER,
      		 INT_DATE AS INTDATE,
      		 INT_HIT AS INTHIT,
      		 RNUM RNUM
       FROM(
                    SELECT AA.*,ROWNUM RNUM FROM(
                                 SELECT * FROM EDU_INTRODUCE
                                 ORDER BY INT_NUM DESC
                                				 )AA
                     )
      <![CDATA[where rnum >=1 and rnum <=10]]>
	
</select>


</mapper>

 